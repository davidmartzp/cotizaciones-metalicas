<div class="container" >
  <div class="card p-5">
      <div class="card-body">
          <h5 class="card-title">Actualizar Cotización</h5>
          <a href="" class="btn btn-secondary mb-3">
              <i class="fas fa-arrow-left"></i> Regresar
          </a>
          <form action="" method="POST">
              <!-- Pestañas -->
              <ul class="nav nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item" role="presentation">
                      <a class="nav-link active" id="clientes-tab" data-bs-toggle="tab" href="#clientes" role="tab"
                          aria-controls="clientes" aria-selected="true">Cliente</a>
                  </li>
                  <li class="nav-item" role="presentation">
                      <a class="nav-link" id="detalles-tab" data-bs-toggle="tab" href="#detalles" role="tab"
                          aria-controls="detalles" aria-selected="false">Detalles</a>
                  </li>
                  <li class="nav-item" role="presentation">
                      <a class="nav-link" id="productos-tab" data-bs-toggle="tab" href="#productos" role="tab"
                          aria-controls="productos" aria-selected="false">Productos / Servicios</a>
                  </li>
                  <li class="nav-item" role="presentation">
                      <a class="nav-link" id="observaciones-tab" data-bs-toggle="tab" href="#observaciones" role="tab"
                          aria-controls="observaciones" aria-selected="false">Observaciones</a>
                  </li>
              </ul>
              <div class="tab-content" id="myTabContent">
                  <!-- Pestaña Cliente -->
                  <div class="tab-pane fade show active" id="clientes" role="tabpanel"
                      aria-labelledby="clientes-tab">
                      <app-client [client]="client" (clientData)="receiveClient($event)"></app-client>
                  </div>

                  <!-- Pestaña Detalles -->
                  <div class="tab-pane fade" id="detalles" role="tabpanel" aria-labelledby="detalles-tab">
                      <app-detail [project]="project" (projectData)="receiveProject($event)" [total_budget]="total_budget"></app-detail>
                  </div>

                  <!-- Pestaña Productos -->
                  <div class="tab-pane fade" id="productos" role="tabpanel" aria-labelledby="productos-tab">
                      <div class="container">
                          <div class="row">
                              <div class="col-12 mt-5">
                                  <label for="currency">Selecciona la moneda</label>
                              </div>
                              <div class="col-12">
                                  <select name="currency" id="currency" class="form-control" [(ngModel)]="currency"
                                      (change)="changeCurrency()">
                                      <option value="1">Pesos Colombianos</option>
                                      <option value="2">Dólares</option>
                                  </select>
                              </div>
                          </div>
                      </div>

                      <app-products [total_budget]="total_budget" [total_services]="total_services"
                          [currency]="currency" [products]="products"
                          (totalSupplies)="receiveTotalSupplies($event)" (productsData)="receiveProducts($event)">
                      </app-products>
                      <app-services [total_budget]="total_budget" [total_supplies]="total_supplies"
                          [currency]="currency" [services]="services"
                          (totalServices)="receiveTotalServices($event)" (servicesData)="receiveServices($event)" [total_services]="total_services">
                      </app-services>

                      <div class="container">
                          <div class="row">
                              <div class="col-12 mt-5">
                                  <h5>Total de Cotización: 
                                      <input type="number" value="000" id="total_budget" [(ngModel)]="total_budget" [ngModelOptions]="{standalone: true}"
                                             class="form-control bg-dark text-white text-center w-100" style="font-size: 1.25rem; padding: 0.5rem;">
                                  </h5>
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- Pestaña Observaciones -->
                  <div class="tab-pane fade" id="observaciones" role="tabpanel" aria-labelledby="observaciones-tab">
                      <app-observations [observation]="observation" (observationData)="receiveObservation($event)"></app-observations>
                  </div>
              </div>
              <button type="button" class="btn btn-primary w-100" id="update_budget" (click)="updateBudget()">Actualizar cotización</button>
          </form>
      </div>
  </div>
</div>
